{"ast":null,"code":"// AuthContext.js\nimport React,{createContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const AuthContext=/*#__PURE__*/createContext();export function AuthProvider(_ref){let{children}=_ref;const[currentUser,setCurrentUser]=useState(null);useEffect(()=>{// Проверяем, есть ли текущий пользователь в Local Storage\nconst user=JSON.parse(localStorage.getItem('currentUser'));if(user){setCurrentUser(user);}// Проверяем, есть ли администратор в Local Storage\nconst existingUsers=JSON.parse(localStorage.getItem('users'))||[];const adminExists=existingUsers.some(user=>user.email.toLowerCase()==='kulaginna@sovcombank.ru');if(!adminExists){// Создаем администратора\nconst adminUser={name:'Nikita',email:'kulaginna@sovcombank.ru',password:'111111',isAdmin:true};existingUsers.push(adminUser);localStorage.setItem('users',JSON.stringify(existingUsers));}},[]);const login=userData=>{setCurrentUser(userData);localStorage.setItem('currentUser',JSON.stringify(userData));};const logout=()=>{setCurrentUser(null);localStorage.removeItem('currentUser');};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{currentUser,login,logout},children:children});}export default AuthContext;","map":{"version":3,"names":["React","createContext","useState","useEffect","jsx","_jsx","AuthContext","AuthProvider","_ref","children","currentUser","setCurrentUser","user","JSON","parse","localStorage","getItem","existingUsers","adminExists","some","email","toLowerCase","adminUser","name","password","isAdmin","push","setItem","stringify","login","userData","logout","removeItem","Provider","value"],"sources":["/Users/nikitakulagin/Documents/AI/Sovcombank/ResearchPortal/src/AuthContext.js"],"sourcesContent":["// AuthContext.js\n\nimport React, { createContext, useState, useEffect } from 'react';\n\nconst AuthContext = createContext();\n\nexport function AuthProvider({ children }) {\n  const [currentUser, setCurrentUser] = useState(null);\n\n  useEffect(() => {\n    // Проверяем, есть ли текущий пользователь в Local Storage\n    const user = JSON.parse(localStorage.getItem('currentUser'));\n    if (user) {\n      setCurrentUser(user);\n    }\n\n    // Проверяем, есть ли администратор в Local Storage\n    const existingUsers = JSON.parse(localStorage.getItem('users')) || [];\n    const adminExists = existingUsers.some((user) => user.email.toLowerCase() === 'kulaginna@sovcombank.ru');\n\n    if (!adminExists) {\n      // Создаем администратора\n      const adminUser = {\n        name: 'Nikita',\n        email: 'kulaginna@sovcombank.ru',\n        password: '111111',\n        isAdmin: true,\n      };\n      existingUsers.push(adminUser);\n      localStorage.setItem('users', JSON.stringify(existingUsers));\n    }\n  }, []);\n\n  const login = (userData) => {\n    setCurrentUser(userData);\n    localStorage.setItem('currentUser', JSON.stringify(userData));\n  };\n\n  const logout = () => {\n    setCurrentUser(null);\n    localStorage.removeItem('currentUser');\n  };\n\n  return (\n    <AuthContext.Provider value={{ currentUser, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport default AuthContext;"],"mappings":"AAAA;AAEA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElE,KAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,CAAC,CAEnC,MAAO,SAAS,CAAAM,YAAYA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CAEpDC,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAS,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC,CAC5D,GAAIJ,IAAI,CAAE,CACRD,cAAc,CAACC,IAAI,CAAC,CACtB,CAEA;AACA,KAAM,CAAAK,aAAa,CAAGJ,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,EAAI,EAAE,CACrE,KAAM,CAAAE,WAAW,CAAGD,aAAa,CAACE,IAAI,CAAEP,IAAI,EAAKA,IAAI,CAACQ,KAAK,CAACC,WAAW,CAAC,CAAC,GAAK,yBAAyB,CAAC,CAExG,GAAI,CAACH,WAAW,CAAE,CAChB;AACA,KAAM,CAAAI,SAAS,CAAG,CAChBC,IAAI,CAAE,QAAQ,CACdH,KAAK,CAAE,yBAAyB,CAChCI,QAAQ,CAAE,QAAQ,CAClBC,OAAO,CAAE,IACX,CAAC,CACDR,aAAa,CAACS,IAAI,CAACJ,SAAS,CAAC,CAC7BP,YAAY,CAACY,OAAO,CAAC,OAAO,CAAEd,IAAI,CAACe,SAAS,CAACX,aAAa,CAAC,CAAC,CAC9D,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAY,KAAK,CAAIC,QAAQ,EAAK,CAC1BnB,cAAc,CAACmB,QAAQ,CAAC,CACxBf,YAAY,CAACY,OAAO,CAAC,aAAa,CAAEd,IAAI,CAACe,SAAS,CAACE,QAAQ,CAAC,CAAC,CAC/D,CAAC,CAED,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACnBpB,cAAc,CAAC,IAAI,CAAC,CACpBI,YAAY,CAACiB,UAAU,CAAC,aAAa,CAAC,CACxC,CAAC,CAED,mBACE3B,IAAA,CAACC,WAAW,CAAC2B,QAAQ,EAACC,KAAK,CAAE,CAAExB,WAAW,CAAEmB,KAAK,CAAEE,MAAO,CAAE,CAAAtB,QAAA,CACzDA,QAAQ,CACW,CAAC,CAE3B,CAEA,cAAe,CAAAH,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}