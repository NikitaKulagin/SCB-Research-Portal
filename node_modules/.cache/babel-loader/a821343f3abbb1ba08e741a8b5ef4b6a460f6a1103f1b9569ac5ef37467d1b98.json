{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import Layout from'./components/Layout';import'./Research.css';import'bootstrap/dist/css/bootstrap.min.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Research(){const[researchData,setResearchData]=useState([]);const[selectedDomain,setSelectedDomain]=useState('Все темы');const[selectedPeriodicity,setSelectedPeriodicity]=useState('Любая периодичность');const[domains,setDomains]=useState([]);const[periodicities,setPeriodicities]=useState([]);useEffect(()=>{// Загружаем данные исследований из Local Storage\nconst data=JSON.parse(localStorage.getItem('researchData'))||[];setResearchData(data);// Извлекаем уникальные темы и периодичности\nsetDomains(['Все темы',...getUniqueValues(data,'domain')]);setPeriodicities(['Любая периодичность',...getUniqueValues(data,'periodicity')]);},[]);function getUniqueValues(data,key){return[...new Set(data.map(item=>item[key]))];}const filteredResearchData=researchData.filter(research=>{const domainMatch=selectedDomain==='Все темы'||research.domain===selectedDomain;const periodicityMatch=selectedPeriodicity==='Любая периодичность'||research.periodicity===selectedPeriodicity;return domainMatch&&periodicityMatch;});return/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0438\\u0441\\u0441\\u043B\\u0435\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u0439\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters\",children:[/*#__PURE__*/_jsx(\"select\",{className:\"form-select\",value:selectedDomain,onChange:e=>setSelectedDomain(e.target.value),children:domains.map((domain,index)=>/*#__PURE__*/_jsx(\"option\",{value:domain,children:domain},index))}),/*#__PURE__*/_jsx(\"select\",{className:\"form-select\",value:selectedPeriodicity,onChange:e=>setSelectedPeriodicity(e.target.value),children:periodicities.map((periodicity,index)=>/*#__PURE__*/_jsx(\"option\",{value:periodicity,children:periodicity},index))}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>{setSelectedDomain('Все темы');setSelectedPeriodicity('Любая периодичность');},children:\"\\u0421\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C \\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B\"})]}),filteredResearchData.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"\\u041D\\u0435\\u0442 \\u0438\\u0441\\u0441\\u043B\\u0435\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u0439, \\u0441\\u043E\\u043E\\u0442\\u0432\\u0435\\u0442\\u0441\\u0442\\u0432\\u0443\\u044E\\u0449\\u0438\\u0445 \\u0432\\u044B\\u0431\\u0440\\u0430\\u043D\\u043D\\u044B\\u043C \\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\\u0430\\u043C.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"research-grid\",children:filteredResearchData.map(research=>/*#__PURE__*/_jsxs(\"div\",{className:\"research-item\",children:[/*#__PURE__*/_jsx(Link,{to:\"/research/\".concat(research.id),children:/*#__PURE__*/_jsx(\"img\",{src:research.thumbnailUrl,alt:research.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"h5\",{children:research.title}),/*#__PURE__*/_jsx(\"p\",{children:research.date}),/*#__PURE__*/_jsxs(\"div\",{className:\"tags\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"tag\",children:research.domain}),/*#__PURE__*/_jsx(\"span\",{className:\"tag\",children:research.periodicity})]})]})]},research.id))})]});}export default Research;","map":{"version":3,"names":["React","useState","useEffect","Link","Layout","jsx","_jsx","jsxs","_jsxs","Research","researchData","setResearchData","selectedDomain","setSelectedDomain","selectedPeriodicity","setSelectedPeriodicity","domains","setDomains","periodicities","setPeriodicities","data","JSON","parse","localStorage","getItem","getUniqueValues","key","Set","map","item","filteredResearchData","filter","research","domainMatch","domain","periodicityMatch","periodicity","children","className","value","onChange","e","target","index","onClick","length","to","concat","id","src","thumbnailUrl","alt","title","date"],"sources":["/Users/nikitakulagin/Documents/AI/Sovcombank/ResearchPortal/src/Research.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Layout from './components/Layout';\nimport './Research.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nfunction Research() {\n\n  const [researchData, setResearchData] = useState([]);\n\n  const [selectedDomain, setSelectedDomain] = useState('Все темы');\n  const [selectedPeriodicity, setSelectedPeriodicity] = useState('Любая периодичность');\n\n  const [domains, setDomains] = useState([]);\n  const [periodicities, setPeriodicities] = useState([]);\n\n  useEffect(() => {\n    // Загружаем данные исследований из Local Storage\n    const data = JSON.parse(localStorage.getItem('researchData')) || [];\n    setResearchData(data);\n\n    // Извлекаем уникальные темы и периодичности\n    setDomains(['Все темы', ...getUniqueValues(data, 'domain')]);\n    setPeriodicities(['Любая периодичность', ...getUniqueValues(data, 'periodicity')]);\n  }, []);\n\n  function getUniqueValues(data, key) {\n    return [...new Set(data.map((item) => item[key]))];\n  }\n\n  const filteredResearchData = researchData.filter((research) => {\n    const domainMatch =\n      selectedDomain === 'Все темы' || research.domain === selectedDomain;\n    const periodicityMatch =\n      selectedPeriodicity === 'Любая периодичность' ||\n      research.periodicity === selectedPeriodicity;\n    return domainMatch && periodicityMatch;\n  });\n\n  return (\n    <Layout>\n      <h1>Список исследований</h1>\n\n      <div className=\"filters\">\n        <select\n          className=\"form-select\"\n          value={selectedDomain}\n          onChange={(e) => setSelectedDomain(e.target.value)}\n        >\n          {domains.map((domain, index) => (\n            <option key={index} value={domain}>\n              {domain}\n            </option>\n          ))}\n        </select>\n\n        <select\n          className=\"form-select\"\n          value={selectedPeriodicity}\n          onChange={(e) => setSelectedPeriodicity(e.target.value)}\n        >\n          {periodicities.map((periodicity, index) => (\n            <option key={index} value={periodicity}>\n              {periodicity}\n            </option>\n          ))}\n        </select>\n\n        {/* Кнопка сброса фильтров */}\n        <button\n          className=\"btn btn-secondary\"\n          onClick={() => {\n            setSelectedDomain('Все темы');\n            setSelectedPeriodicity('Любая периодичность');\n          }}\n        >\n          Сбросить фильтры\n        </button>\n      </div>\n\n      {filteredResearchData.length === 0 ? (\n        <p>Нет исследований, соответствующих выбранным фильтрам.</p>\n      ) : (\n        <div className=\"research-grid\">\n          {filteredResearchData.map((research) => (\n            <div key={research.id} className=\"research-item\">\n              <Link to={`/research/${research.id}`}>\n                <img src={research.thumbnailUrl} alt={research.title} />\n              </Link>\n              <div className=\"info\">\n                <h5>{research.title}</h5>\n                <p>{research.date}</p>\n                <div className=\"tags\">\n                  <span className=\"tag\">{research.domain}</span>\n                  <span className=\"tag\">{research.periodicity}</span>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </Layout>\n  );\n}\n\nexport default Research;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}