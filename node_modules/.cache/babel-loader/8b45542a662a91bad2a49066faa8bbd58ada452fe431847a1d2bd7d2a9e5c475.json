{"ast":null,"code":"import React,{useState,useContext}from'react';import AuthContext from'./AuthContext';import{useNavigate}from'react-router-dom';import Layout from'./components/Layout';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(_ref){let{isAuthenticated}=_ref;const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const navigate=useNavigate();const{login}=useContext(AuthContext);const handleSubmit=e=>{e.preventDefault();// Получаем список пользователей из Local Storage\nconst existingUsers=JSON.parse(localStorage.getItem('users'))||[];// Ищем пользователя с введённым email и паролем\nconst user=existingUsers.find(user=>user.email===email.toLowerCase()&&user.password===password);if(user){// Вызываем функцию `login` из контекста\nlogin(user);// Очищаем поля и ошибки\nsetEmail('');setPassword('');setError('');// Перенаправляем пользователя на страницу исследований\nnavigate('/research');}else{// Если пользователь не найден или пароль неверный\nsetError('Неверный email или пароль.');}};return/*#__PURE__*/_jsxs(Layout,{isAuthenticated:isAuthenticated,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0412\\u0445\\u043E\\u0434\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,noValidate:true,children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email \\u0430\\u0434\\u0440\\u0435\\u0441\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})]});}export default Login;","map":{"version":3,"names":["React","useState","useContext","AuthContext","useNavigate","Layout","jsx","_jsx","jsxs","_jsxs","Login","_ref","isAuthenticated","email","setEmail","password","setPassword","error","setError","navigate","login","handleSubmit","e","preventDefault","existingUsers","JSON","parse","localStorage","getItem","user","find","toLowerCase","children","onSubmit","noValidate","className","role","htmlFor","type","id","value","onChange","target","required"],"sources":["/Users/nikitakulagin/Documents/AI/Sovcombank/ResearchPortal/src/Login.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\nimport AuthContext from './AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport Layout from './components/Layout';\n\nfunction Login({ isAuthenticated }) {\n    \n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    const [error, setError] = useState('');\n\n    const navigate = useNavigate();\n    const { login } = useContext(AuthContext);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n      \n        // Получаем список пользователей из Local Storage\n        const existingUsers = JSON.parse(localStorage.getItem('users')) || [];\n      \n        // Ищем пользователя с введённым email и паролем\n        const user = existingUsers.find(\n          (user) => user.email === email.toLowerCase() && user.password === password\n        );\n      \n        if (user) {\n          // Вызываем функцию `login` из контекста\n          login(user);\n      \n          // Очищаем поля и ошибки\n          setEmail('');\n          setPassword('');\n          setError('');\n      \n          // Перенаправляем пользователя на страницу исследований\n          navigate('/research');\n        } else {\n          // Если пользователь не найден или пароль неверный\n          setError('Неверный email или пароль.');\n        }\n      };\n\n    return (\n    <Layout isAuthenticated={isAuthenticated}>\n        <h1>Вход</h1>\n        <form onSubmit={handleSubmit} noValidate>\n        {error && (\n            <div className=\"alert alert-danger\" role=\"alert\">\n            {error}\n            </div>\n        )}\n        <div className=\"mb-3\">\n            <label htmlFor=\"email\" className=\"form-label\">\n            Email адрес\n            </label>\n            <input\n            type=\"email\"\n            className=\"form-control\"\n            id=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            required\n            />\n        </div>\n        <div className=\"mb-3\">\n            <label htmlFor=\"password\" className=\"form-label\">\n            Пароль\n            </label>\n            <input\n            type=\"password\"\n            className=\"form-control\"\n            id=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n            />\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary\">\n            Войти\n        </button>\n        </form>\n    </Layout>\n    );\n}\n\nexport default Login;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CACnD,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzC,QAAS,CAAAC,KAAKA,CAAAC,IAAA,CAAsB,IAArB,CAAEC,eAAgB,CAAC,CAAAD,IAAA,CAE9B,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACc,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAE5C,KAAM,CAACgB,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAkB,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEgB,KAAM,CAAC,CAAGlB,UAAU,CAACC,WAAW,CAAC,CAEzC,KAAM,CAAAkB,YAAY,CAAIC,CAAC,EAAK,CACxBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB;AACA,KAAM,CAAAC,aAAa,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,EAAI,EAAE,CAErE;AACA,KAAM,CAAAC,IAAI,CAAGL,aAAa,CAACM,IAAI,CAC5BD,IAAI,EAAKA,IAAI,CAAChB,KAAK,GAAKA,KAAK,CAACkB,WAAW,CAAC,CAAC,EAAIF,IAAI,CAACd,QAAQ,GAAKA,QACpE,CAAC,CAED,GAAIc,IAAI,CAAE,CACR;AACAT,KAAK,CAACS,IAAI,CAAC,CAEX;AACAf,QAAQ,CAAC,EAAE,CAAC,CACZE,WAAW,CAAC,EAAE,CAAC,CACfE,QAAQ,CAAC,EAAE,CAAC,CAEZ;AACAC,QAAQ,CAAC,WAAW,CAAC,CACvB,CAAC,IAAM,CACL;AACAD,QAAQ,CAAC,4BAA4B,CAAC,CACxC,CACF,CAAC,CAEH,mBACAT,KAAA,CAACJ,MAAM,EAACO,eAAe,CAAEA,eAAgB,CAAAoB,QAAA,eACrCzB,IAAA,OAAAyB,QAAA,CAAI,0BAAI,CAAI,CAAC,cACbvB,KAAA,SAAMwB,QAAQ,CAAEZ,YAAa,CAACa,UAAU,MAAAF,QAAA,EACvCf,KAAK,eACFV,IAAA,QAAK4B,SAAS,CAAC,oBAAoB,CAACC,IAAI,CAAC,OAAO,CAAAJ,QAAA,CAC/Cf,KAAK,CACD,CACR,cACDR,KAAA,QAAK0B,SAAS,CAAC,MAAM,CAAAH,QAAA,eACjBzB,IAAA,UAAO8B,OAAO,CAAC,OAAO,CAACF,SAAS,CAAC,YAAY,CAAAH,QAAA,CAAC,sCAE9C,CAAO,CAAC,cACRzB,IAAA,UACA+B,IAAI,CAAC,OAAO,CACZH,SAAS,CAAC,cAAc,CACxBI,EAAE,CAAC,OAAO,CACVC,KAAK,CAAE3B,KAAM,CACb4B,QAAQ,CAAGnB,CAAC,EAAKR,QAAQ,CAACQ,CAAC,CAACoB,MAAM,CAACF,KAAK,CAAE,CAC1CG,QAAQ,MACP,CAAC,EACD,CAAC,cACNlC,KAAA,QAAK0B,SAAS,CAAC,MAAM,CAAAH,QAAA,eACjBzB,IAAA,UAAO8B,OAAO,CAAC,UAAU,CAACF,SAAS,CAAC,YAAY,CAAAH,QAAA,CAAC,sCAEjD,CAAO,CAAC,cACRzB,IAAA,UACA+B,IAAI,CAAC,UAAU,CACfH,SAAS,CAAC,cAAc,CACxBI,EAAE,CAAC,UAAU,CACbC,KAAK,CAAEzB,QAAS,CAChB0B,QAAQ,CAAGnB,CAAC,EAAKN,WAAW,CAACM,CAAC,CAACoB,MAAM,CAACF,KAAK,CAAE,CAC7CG,QAAQ,MACP,CAAC,EACD,CAAC,cACNpC,IAAA,WAAQ+B,IAAI,CAAC,QAAQ,CAACH,SAAS,CAAC,iBAAiB,CAAAH,QAAA,CAAC,gCAElD,CAAQ,CAAC,EACH,CAAC,EACH,CAAC,CAEb,CAEA,cAAe,CAAAtB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}